{% extends "../../partials/layout.html" %} 
{% from "../../macros.njk" import submitLink %}
{% from "govuk/components/button/macro.njk" import govukButton %} 
{% from "govuk/components/input/macro.njk" import govukInput %}
{% from "govuk/components/fieldset/macro.njk" import govukFieldset %}
{% from "govuk/components/error-summary/macro.njk" import govukErrorSummary %}

{% set pageTitle = "What is the staff member's username?" %}

{% block content %}
<div class="govuk-grid-row govuk-body">
  {% if errors.length > 0 %}
  {{
    govukErrorSummary({
      titleText: 'There is a problem',
      errorList: errors,
      attributes: { 'data-qa-errors': true }
    })
  }}
  {% endif %}
  <div class="govuk-grid-column-three-quarters govuk-!-margin-bottom-4">
    <h1 class="govuk-heading-xl">{{ pageTitle }}</h1>
  </div>
  <div class="govuk-grid-column-three-quarters">

    <div>
      <form method="post">
        <input type="hidden" name="_csrf" value="{{ csrfToken }}" />
        <input type="hidden" name="nextDestination" value="{{ data.nextDestination }}" />


        {% call govukFieldset({
        }) %}

          {{ govukInput({
            label: {
              text: 'Username'
            },
            id: "username",
            name: "username",
            classes: "govuk-input--width-20"
          }) }}

        {% endcall %}
        {% set formName = 'edit-incident-details' if data.nextDestination == 'check-your-answers'  else 'incident-details' %}

        {{
          govukButton({
            text: 'Continue',
            classes: 'govuk-button',
            attributes: { 'data-qa': 'continue', 'data-submit': true }
          })
        }}

      {% set formName = 'edit-incident-details' if data.nextDestination == 'check-your-answers'  else 'incident-details' %}
      <br/>
      {{ 
        submitLink({
          label: 'Save and return to report use of force', 
          qa: 'save-and-return', 
          value: 'save-and-return'
        }) 
      }}
      </form>
    </div>
  </div>
</div>
{% endblock %}
